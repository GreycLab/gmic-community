<!DOCTYPE html>
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="tutorial.css">
<script type="text/javascript" src="highslide/highslide.js"></script>
<link rel="stylesheet" type="text/css" href="highslide/highslide.css" />
<script type="text/javascript">
hs.graphicsDir = 'highslide/graphics/';
hs.wrapperClassName = 'wide-border';
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<body>


      



<h2><a target="_parent" name="1.3.Eigenvalues and EigenVectors|outline"></a>Eigenvalues and EigenVectors</h2>
<div style="float: left; margin: 3px; border: 0px solid #808080;" height="288" width="288"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" id="svg2" version="1.1" inkscape:version="0.48.4 r9939" width="288" height="288" sodipodi:docname="evalsnevecs.png"> <metadata id="metadata8"> <rdf:rdf> <cc:work rdf:about=""> <dc:format>image/svg+xml</dc:format> <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"> <dc:title></dc:title> </dc:type></cc:work> </rdf:rdf> </metadata> <defs id="defs6"> <marker inkscape:stockid="Arrow1Send" orient="auto" refy="0" refx="0" id="Arrow1Send" style="overflow: visible;"> <path id="path3809" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule: evenodd; stroke: #000000; stroke-width: 1pt;" transform="matrix(-0.2,0,0,-0.2,-1.2,0)" inkscape:connector-curvature="0"></path> </marker> <marker inkscape:stockid="Arrow1Sstart" orient="auto" refy="0" refx="0" id="Arrow1Sstart" style="overflow: visible;"> <path id="path3806" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule: evenodd; stroke: #000000; stroke-width: 1pt;" transform="matrix(0.2,0,0,0.2,1.2,0)" inkscape:connector-curvature="0"></path> </marker> <marker inkscape:stockid="Arrow1Mstart" orient="auto" refy="0" refx="0" id="Arrow1Mstart" style="overflow: visible;"> <path id="path3800" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" style="fill-rule: evenodd; stroke: #000000; stroke-width: 1pt;" transform="matrix(0.4,0,0,0.4,4,0)" inkscape:connector-curvature="0"></path> </marker> <inkscape:path-effect effect="interpolate" id="path-effect3760" is_visible="true" trajectory="M 516.94916,382.52425 453.38983,675.38231" equidistant_spacing="true" steps="15"></inkscape:path-effect> </defs> <sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1024" inkscape:window-height="669" id="namedview4" showgrid="false" borderlayer="true" inkscape:showpageshadow="false" units="mm" inkscape:document-units="mm" showguides="true" inkscape:guide-bbox="true" inkscape:zoom="0.43180002" inkscape:cx="150" inkscape:cy="150" inkscape:window-x="0" inkscape:window-y="31" inkscape:window-maximized="1" inkscape:current-layer="svg2"> <sodipodi:guide orientation="1,0" position="0,0" id="guide4747"></sodipodi:guide> </sodipodi:namedview><g transform="scale(0.27068)"><path inkscape:connector-curvature="0" id="path4613" style="fill: none; stroke: #c8c8c8; stroke-width: 7.08661417; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 4; stroke-opacity: 1; stroke-dasharray: none;" d="M 5.4590164,176.99245 C 170.42721,344.34228 368.05876,397.49568 547.17199,438.94082 710.60853,476.75853 879.92908,455.12164 1057.8223,354.88981 M 5.4921621,220.94737 C 167.83123,373.54386 359.73837,426.23599 535.96298,467.55227 702.76062,506.65838 875.9678,487.83525 1057.8202,391.40359 M 5.514972,263.80453 C 165.09896,402.79942 351.44073,455.0031 524.75397,496.16374 694.91389,536.57551 872.03266,520.80128 1057.8368,428.6419 M 5.3970614,305.5266 C 162.14147,432.08178 343.12159,483.78632 513.54497,524.7752 c 173.525,41.73488 354.5823,29.24799 544.33053,-58.15942 M 5.3728654,346.37589 C 159.15115,461.44355 334.8685,512.60658 502.33596,553.38665 c 176.87702,43.0714 361.88276,34.11967 555.54694,-48.0257 M 5.3871612,386.35569 C 156.09385,490.87432 326.66411,541.45998 491.12694,581.99811 671.33505,626.41727 860.29048,621.25276 1057.8311,544.89497 M 5.445671,425.51928 c 147.536729,94.85764 313.067309,144.8286 474.472259,185.0903 183.55423,45.78674 376.50015,44.65276 577.91877,-25.42915 M 5.4060903,463.82917 C 149.71921,549.92046 310.36554,599.25798 468.70892,639.22103 655.60225,686.3896 852.55556,689.53933 1057.8256,626.25669 M 5.399378,501.42238 c 141.011582,78.11327 296.872162,126.78044 452.100542,166.41011 190.24304,48.5689 391.24025,56.25453 600.35428,0.28379 M 5.3987246,538.33033 C 143.04547,609.21758 294.22321,657.18065 446.29091,696.44396 c 193.58976,49.98415 398.6526,62.46398 611.58509,14.34027 M 5.4453344,574.61989 C 139.66036,638.97698 286.23754,686.19609 435.08189,725.05541 c 196.9313,51.41357 406.07909,68.9485 622.80021,29.21547 M 5.4509181,610.29349 C 136.19854,668.79421 278.28363,715.24127 423.87288,753.66687 c 200.26707,52.85681 413.5186,75.70963 633.99582,44.91722 M 5.109205,645.27212 c 127.337255,53.32447 265.139315,99.01405 407.554665,137.00622 203.60125,54.31475 420.98014,82.75012 645.18423,61.45118 M 5.2167403,679.93968 C 128.98623,728.57479 262.43003,773.41012 401.45485,810.8898 c 206.94143,55.78931 428.47999,90.07453 656.38875,78.82455 M 5.3597972,714.1523 C 125.52433,758.63165 254.67579,802.57323 390.24586,839.50125 c 210.28223,57.27892 436.00698,97.68391 667.58984,97.0489"></path> <g id="g4736"> <g transform="matrix(1.9800273,0,0,1.9800273,-434.6884,-572.91396)" id="g3776"> <path style="fill: none; stroke: #efa1a1; stroke-width: 1.78952436; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 4; stroke-opacity: 1; stroke-dasharray: none;" d="m 349.69891,546.54931 245.25242,0" id="path3772" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path> <path style="fill: none; stroke: #efa1a1; stroke-width: 1.78952436; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 4; stroke-opacity: 1; stroke-dasharray: none;" d="m 516.21118,497.91569 0,212.83" id="path3770" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path> <path style="fill: none; stroke: #efa1a1; stroke-width: 1.78952436; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 4; stroke-opacity: 1; stroke-dasharray: none;" d="m 567.16069,652.84852 -196.6188,0" id="path3768" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path> <path style="fill: none; stroke: #efa1a1; stroke-width: 1.78952436; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 4; stroke-opacity: 1; stroke-dasharray: none;" d="m 409.91197,701.48214 0,-210.51411" id="rect3763" inkscape:connector-curvature="0" sodipodi:nodetypes="cc"></path> <path sodipodi:nodetypes="ccccccccc" inkscape:connector-curvature="0" id="rect3774" d="m 410.11783,546.54932 53.14961,0 53.1496,0 0,53.1496 0,53.14961 -53.1496,0 -53.14961,0 0,-53.14961 z" style="fill: #5ee4e2; fill-opacity: 0.25120778; stroke: none;"></path> </g> <path sodipodi:nodetypes="ccc" inkscape:connector-curvature="0" id="path3783" d="m 544.45266,149.17259 -61.9045,465.43021 181.29855,23.22071" style="fill: none; stroke: #000000; stroke-width: 10.62992126; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 4; stroke-opacity: 1; stroke-dasharray: none; marker-start: url('#Arrow1Sstart'); marker-end: url('#Arrow1Send');"></path> </g> <path sodipodi:type="arc" style="fill: #5ee475; fill-opacity: 0.25120778; fill-rule: evenodd; stroke: none;" id="path4745" sodipodi:cx="243.16812" sodipodi:cy="208.42981" sodipodi:rx="184.8938" sodipodi:ry="466.38846" d="m 428.06192,208.42981 a 184.8938,466.38846 0 1 1 -369.787597,0 184.8938,466.38846 0 1 1 369.787597,0 z" transform="matrix(0.99189666,0.1270473,-0.1270473,0.99189666,267.19413,375.59599)"></path> <g transform="translate(-317.2765,32.422416)" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; word-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" id="flowRoot4749"></g> <g id="g4762" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; word-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" transform="translate(-92.635475,562.76051)"> <path id="path4764" style="font-size: 90px; font-variant: normal; font-stretch: normal; font-family: Liberation Serif; -inkscape-font-specification: Liberation Serif;" d="m 742.06348,123.07606 c -0.99612,2.75394 -5.69826,13.94533 -14.10645,33.57422 l -7.64648,0 0,-1.4502 18.89648,-41.87988 -1.97754,-6.06445 c -2.10939,-6.56245 -4.65822,-9.843693 -7.64648,-9.843753 -0.82033,6e-5 -1.65529,0.175841 -2.50489,0.527344 l -1.75781,3.647459 -2.15332,0 0,-7.470701 c 2.02148,-0.556578 4.18945,-0.834898 6.50391,-0.834961 2.72459,6.3e-5 4.93651,0.893617 6.63574,2.680664 1.6992,1.787168 3.36912,5.141658 5.00977,10.063478 l 14.67773,44.16504 c 0.46871,1.40625 1.18648,2.43164 2.15332,3.07617 0.96676,0.64453 1.9482,1.11328 2.94434,1.40625 l 0,1.97754 -8.61328,0 -10.41504,-33.57422" inkscape:connector-curvature="0"></path> </g> <g transform="translate(-653.08009,108.84668)" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; word-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" id="flowRoot4766"> <path id="path4783" style="font-size: 56px; font-variant: normal; font-stretch: normal; font-family: Liberation Serif; -inkscape-font-specification: Liberation Serif;" d="m 1121.832,91.433785 7.4922,0.738281 0,1.449219 -19.7148,0 0,-1.449219 7.5195,-0.738281 0,-29.914063 -7.4101,2.652344 0,-1.449219 10.6914,-6.070312 1.4218,0 0,34.78125 m -43.9649,-44.781989 c -0.9961,2.75394 -5.6983,13.94533 -14.1065,33.57422 l -7.6465,0 0,-1.4502 18.8965,-41.87988 -1.9775,-6.06445 c -2.1094,-6.56245 -4.6582,-9.843693 -7.6465,-9.843753 -0.8203,6e-5 -1.6553,0.175841 -2.5049,0.527344 l -1.7578,3.647459 -2.1533,0 0,-7.470701 c 2.0215,-0.556578 4.1894,-0.834898 6.5039,-0.834961 2.7246,6.3e-5 4.9365,0.893617 6.6357,2.680664 1.6992,1.787168 3.3692,5.141658 5.0098,10.063478 l 14.6777,44.16504 c 0.4687,1.40625 1.1865,2.43164 2.1534,3.07617 0.9667,0.64453 1.9482,1.11328 2.9443,1.40625 l 0,1.97754 -8.6133,0 -10.415,-33.57422"></path> </g> <g transform="translate(-430.75495,646.13243)" style="font-size: 40px; font-style: normal; font-weight: normal; line-height: 125%; letter-spacing: 0px; word-spacing: 0px; fill: #000000; fill-opacity: 1; stroke: none; font-family: Sans;" id="flowRoot4774"> <path d="m 1129.5977,93.621285 -22.4493,0 0,-4.019532 5.086,-4.621093 c 3.263,-2.861968 5.6601,-5.17707 7.1914,-6.945313 1.5312,-1.768212 2.625,-3.591127 3.2812,-5.46875 0.6745,-1.877581 1.0117,-4.028621 1.0118,-6.453125 -1e-4,-2.369762 -0.5378,-4.174447 -1.6133,-5.414062 -1.0756,-1.23955 -2.8347,-1.859341 -5.2774,-1.859375 -0.9661,3.4e-5 -1.9596,0.136753 -2.9804,0.410156 -1.0209,0.255242 -1.9232,0.601596 -2.7071,1.039062 l -0.957,4.484375 -1.8047,0 0,-7.054687 c 3.3177,-0.783818 6.1341,-1.175744 8.4492,-1.175781 4.0104,3.7e-5 7.0182,0.838577 9.0235,2.515625 2.0234,1.658887 3.0351,4.010447 3.0351,7.054687 0,2.041692 -0.401,3.973982 -1.2031,5.796875 -0.7839,1.804707 -1.9961,3.609393 -3.6367,5.414063 -1.6407,1.786472 -4.3568,4.29298 -8.1485,7.519531 -1.6224,1.385424 -3.345,2.907558 -5.1679,4.566406 l 18.8672,0 0,4.210938" style="font-size: 56px; font-variant: normal; font-stretch: normal; font-family: Liberation Serif; -inkscape-font-specification: Liberation Serif;" id="path4787" inkscape:connector-curvature="0"></path> </g> </g></svg></div>
<p>Here's the bit about <b>EigenOne</b> and <b>EigenTwo</b>. They hold eigenvalues. So what are eigenvalues?</p>
<p>Eigenvalues tell us how large eigenvectors are.</p>
<p>Uh.</p>
<p>OK. Some of you seem to have pained expressions on your faces. You think maybe the discussion is going circular and the tracks we're following belong to us. Hang on.</p>
<p>Recall that we have unwired -smooth from its usual connections, the pieces of G'MIC that figure out how to do anisotropic smoothing. Let's look at that ansiotropic smoothing problem a little bit. Those pieces ultimately have to tell -smooth what to do, and the medium of exchange is a tensor field. So if we study how the anisotropic smoothing bits go about setting up tensor fields, we'll garner insights on how to set up our own. Some of you with a bit of math background might want to look ahead to <a target="_parent" href="dyidiffusion_eigen-thingys.shtml">Eigen Thingys</a>.</p>
<p>The anisotropic pieces of G'MIC which ultimately harness -smooth look for edges. They want -smooth to smooth <i>around</i> edges but not smooth <i>over</i> edges. That means they have to <i>find</i> edges.</p>
<p>What do edges look like to G'MIC?</p>
<p>They look like a couple of vectors. These point at right angles to one another.</p>
<p>One vector is called the gradient vector. It points along the steepest part of a gradient - a <i>change </i><i>of</i><i> image intensity</i> &ndash; in the vicinity of a pixel. The other is called the contour vector. It points at right angles to the gradient vector. When the gradient vector is <i>big</i> and the contour vector is <i>small</i>, then that looks like an edge to G'MIC. Otherwise â€• &ldquo;eh&rdquo;.</p>
<p>So the smoothing bits look at the difference between <b>EigenOne</b> and <b>EigenTwo, </b>then at <b>Cosine</b> and <b>Sine</b> to see where the gradient is running. The direction in which smoothing needs to go runs at right angles to the gradient, its magnitude a function of <b>EigenOne,</b> <b>EigenTwo</b>, plus command line parameters. Look at <a target="_parent" href="_diffusiontensors.shtml">-diffusiontensors</a> for details.</p>
<p>So here's the takeaway:</p>
<ol>
<li><b>EigenOne: </b>Holds the magnitude of the gradient vector. This is often represented by the symbol &lambda;<sub>1</sub>. It runs from zero up to positive infinity, but we like to cap it at one. It's the eigenvalue associated with the gradient vector, but please don't talk to your dog that way; you'll just give the poor creature headaches.</li>
<li><b>EigenTwo:</b> Holds the magnitude of the contour vector. This is often represented by the symbol &lambda;<sub>2</sub>. It too runs from zero up to positive infinity, but we like to cap it at one. It's the eigenvalue associated with the &ndash; you <i>guessed</i> it! &ndash; contour vector. Ditto on the canine cautionary.</li>
<li><b>Cosine:</b> The cosine of the angle along which the gradient vector runs. We only have to worry about 0&deg; to 180&deg; (0 &hellip; &pi;) so the cosine run from -1 to 1.</li>
<li><b>Sine:</b> The sine of the angle along which the gradient vector runs. Again, half the angular range so the sine runs from 0 to 1.</li>
</ol>
<p>The -eigen2tensor command expects these four gray scale images to be packaged into a pair of two-channel images, and it turns out a three channel field of tensors, and we're going to leave matters at that. Those feeling brave can dig into <a target="_parent" href="dyidiffusion_eigen-thingys.shtml">Eigen Thingys</a>.</p>
<p>For now, it suffices to think of a tensor field as a set of instructions for -smooth. One tensor for each pixel tells -smooth how to blur in that locale. Here's its remit.</p>
<ol>
<li>Together, <b>Cosine</b> and <b>Sine</b> tell -smooth the orientation of the gradient vector.</li>
<li>
<p><b>EigenOne</b> tells smooth how hard to blur along the gradient vector.</p>
</li>
<li><b>EigenTwo</b> tells smooth how hard to blur transverse to the gradient vector.</li>
</ol>
<p>With these points in mind, Let's return to what happen when we ran <b>EigenTwo</b> from zero to one while <b>EigenOne</b> ran from one to zero.</p>
<ol>
<li><first, recall="" that="" b="">Cosine is a gray scale image with constant value zero, while <b>Sine</b> is constant value one, so the gradient vector at every pixel points straight up at 90&deg;.</first,></li>
<li><at the="" top="" of="" image="" b="">Close to the top of the image, the EigenOne ramp is nearly one. That instructs -smooth to blur hard along the gradient. Concomitantly, The <b>EigenTwo</b> ramp is nearly zero, telling -smooth to blur only a tiny bit transverse to the gradient. Net effect: strong vertical blurring; minimal horizontal blurring. Obviously, at the bottom of the image, the situation reverses and -smooth mainly blurs from left-to-right, transverse to the gradient, instead of up-and-down, along the gradient.</at></li>
<li>In the middle of the image, <b>EigenOne</b> and <b>EigenTwo</b> are about equal, so -smooth blurs as much one way as the other &ndash; a circular blur.</li>
</ol>
<p>So:</p>
<ol>
<li><b>EigenOne</b>, together with <b>EigenTwo</b>, combine to set the <i>eccentricity</i> of the blurring elipse.</li>
<li>The amount of blurring is no more than the larger of <b>EigenOne</b> or <b>EigenTwo</b></li>
<li>The direction is controlled by <b>Cosine</b> and <b>Sine</b>.</li>
</ol>
<p id="firstHeading" class="firstHeading" lang="en">As a<span dir="auto"> corollary, when <strong>EigenOne</strong> and <strong>EigenTwo</strong> are equal, the eccentricity is zero and the blur is circular. In this case, it hardly matters what angle <strong>Cosine</strong> and <strong>Sine</strong> reference as a circle has the remarkable property of looking the same no matter how it's turned. That's just the way they built this particular Universe. Our convention is to set <strong>Cosine</strong> to one and <strong>Sine</strong> to zero, corresponding to zero degrees.&nbsp;</span></p>
<p>And these, dear hearts, are the keys to Emerald City. We could close up shop right here and let you go off on your own. You can do whatever you want with these four gray scale images and -smooth will follow obediently along. Just observe the normalization limits. <b>EigenOne</b>, <b>EigenTwo</b> and <b>Sine</b> run from zero to one, <b>Cosine</b> runs from negative to positive one.</p>
<p>But you probably wouldn't mind a few more examples. Yep. We thought so. See you on the next page.</p>
<table rules="all" style="border-color: #7f7f7f; border-width: 1px; background-color: #ffffff;" align="center" border="1" cellpadding="2">
<tbody>
<tr>
<td><a target="_parent" href="dyidiffusion_variations-on-a-theme.shtml"><span class="internal">Variations On A Theme</span></a></td>
<td><a target="_parent" href="dyidiffusion_directional-blurring.shtml"><span class="internal"><span class="internal">Directional Blurs</span></span></a></td>
</tr>
</tbody>
</table>



   
</body></html>